---
## Author
author:
  name: Пашутина Анна Алексеевна
  affiliation:
    - name: Российский университет дружбы народов
      country: Российская Федерация
      city: Москва
      address: ул. Миклухо-Маклая, д. 6

## Title
title: "Отчёт по лобораторной работе №4"
subtitle: "Создание и процесс обработки программ на языке ассемблера NASM"
--- 

# Цель работы

Освоить процедуры компиляции и сборки программ, написанных на ассемблере NASM.

# Задание

1. Создайте каталог для работы с программами на языке ассемблера NASM и создайте в нем текстовый файл hello.asm. 
2. Создайте объектный файл hello.o.
3. Выполните следующую команду: nasm -o obj.o -f elf -g -l list.lst hello.asm
4. С помощью команды  ld -m elf_i386 hello.o -o hello передайте объектный файл компановщику.
5. Выполните следующую команду: ld -m elf_i386 obj.o -o main
6. Запустите файл.
## Задание для самостоятельной работы
1.В каталоге ~/work/arch-pc/lab04 с помощью команды cp создайте копию файла hello.asm с именем lab4.asm
2. С помощью любого текстового редактора внесите изменения в текст программы в файле lab4.asm так, чтобы вместо Hello world! на экран выводилась строка с вашими фамилией и именем.
3. Оттранслируйте полученный текст программы lab4.asm в объектный файл. Выполните компоновку объектного файла и запустите получившийся исполняемый файл.
4. Скопируйте файлы hello.asm и lab4.asm в Ваш локальный репозиторий в ката-
лог ~/work/study/2023-2024/"Архитектура компьютера"/arch-pc/labs/lab04/.
Загрузите файлы на Github.

# Выполнение лабораторной работы

Создадим каталог для работы с программами на языке ассемблера NASM ([рис. @fig-001]).

![Создание каталога](image/1.png){#fig-001 width=70%}

Перейдем в созданный каталог ([рис. @fig-002])

![Перемещение в каталог](image/2.png){#fig-002 width=70%}

Создадим текстовый файл hello.asm ([рис. @fig-003]) и откроем его с помощью текстового редактора ([рис. @fig-004]) и введем туда программу ([рис. @fig-005]).

![Создание файла](image/3.png){#fig-003 width=70%}

![Открытие файла в текстовом редакторе](image/4.png){#fig-004 width=70%}

![Программа "Hello world"](image/5.png){#fig-005 width=70%}

Скомпилируем приведенный выше текст программы ([рис. @fig-006]) и проверим выполнение комнады ([рис. @fig-006]).

![Создание объектного файла](image/6.png){#fig-006 width=70%}

![Проверка выполнения команд](image/7.png){#fig-007 width=70%}

Скомпилируем исходный файл hello.asm в obj.o, при этом формат выходного файла
будет elf, и в него будут включены символы для отладки (опция -g), кроме того, будет создан файл листинга list.lst (опция -l) ([рис. @fig-008]) и проверим выполнение команд ([рис. @fig-009]). 

![Создание объектного файла obj.o](image/8.png){#fig-008 width=70%}

![Проверка выполнения команд](image/9.png){#fig-009 width=70%}

Передадим объектный файл на обработку компановщику и проверим корректность выполнения команды ([рис. @fig-009]). 

![Создание исполняемого файла main, собранного из файла obj.o](image/9.png){#fig-009 width=70%}

Запустим созданный файл ([рис. @fig-010]). 

![Запуск программы](image/10.png){#fig-010 width=70%}

# Задание для самостоятельной работы

В каталоге ~/work/arch-pc/lab04 создадим копию файла hello.asm с именем lab4.asm ([рис. @fig-011]). 

![Создание копии файла](image/11.png){#fig-011 width=70%}

С помощью любого текстового редактора внесем изменения в текст программы в файле lab4.asm ([рис. @fig-012]) так, чтобы вместо Hello world! на экран выводилась строка с фамилией и именем ([рис. @fig-013]). 

![Открываем текстовый редактор](image/12.png){#fig-012 width=70%}

![Новая программа](image/13.png){#fig-013 width=70%}

Создаем объектный файл ([рис. @fig-014]). 

![Создание объектного файла](image/14.png){#fig-014 width=70%}

Выполняем компановку объектного файла ([рис. @fig-015]). 

![Выполнение компановки файла](image/15.png){#fig-015 width=70%}

Запускаем созданный файл ([рис. @fig-016]). 

![Запуск программы](image/16.png){#fig-016 width=70%}

Скопируем файлы hello.asm и lab4.asm в локальный репозиторий в каталог ~/work/study/2024-2025/"Архитектура компьютера"/arch-pc/labs/lab04/ ([рис. @fig-017]). 

![Копирование файлов](image/17.png){#fig-017 width=70%}

Загружаем файлы на гитхаб.

# Выводы

Мы познакомились с языком ассемблера NASM и создали две работающих
программы.
